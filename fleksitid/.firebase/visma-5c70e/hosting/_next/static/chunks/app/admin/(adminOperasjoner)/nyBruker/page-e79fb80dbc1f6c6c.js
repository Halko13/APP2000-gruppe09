(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[534],{73308:function(e,n,t){Promise.resolve().then(t.bind(t,54194)),Promise.resolve().then(t.bind(t,41232)),Promise.resolve().then(t.t.bind(t,50423,23)),Promise.resolve().then(t.t.bind(t,69050,23))},54194:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return NyBrukerSkjema}});var s=t(57437),r=t(2265),i=t(25577),a=t(17222),o=t(9875),l=t(49050),d=t(98075),u=t(959);function NyBrukerButton(e){let{onSave:n,isFormValid:t,onFormReset:i,onReturn:a}=e,[o,c]=r.useState(!1);return(0,s.jsxs)("div",{children:[(0,s.jsxs)(d.Z,{direction:"row",spacing:2,justifyContent:"flex-end",children:[(0,s.jsx)(l.Z,{variant:"contained",onClick:()=>{t?(n(),i(),c(!1)):(console.log("valider ikke "+t),c(!0),setTimeout(()=>{c(!1)},3e3))},children:"Send"}),(0,s.jsx)(l.Z,{variant:"outlined",onClick:()=>{i(),c(!1)},children:"Reset"})]}),(0,s.jsx)(d.Z,{sx:{pt:2},children:(0,s.jsx)(l.Z,{variant:"outlined",onClick:a,children:"Tilbake"})}),(0,s.jsx)(u.CZ,{vis:o})]})}var c=t(39130),v=t(70148),m=t(24086);function NyBrukerSkjema(e){let{onGoBack:n}=e,[t,l]=r.useState({AnsattNr:"",Fornavn:"",Etternavn:"",Epost:"",Stilling:"",Avdeling:"",AntallJobbTimer:"",Passord:"",GjentaPassord:""}),[d,x]=r.useState(!1),[h,j]=r.useState(!1),[k,f]=r.useState(!1),handleSave=async()=>{console.log("Lagrer data til database:",t);let e=(0,m.JU)(v.db,v.N_,t.AnsattNr),n=await (0,m.QT)(e);if(n.exists())j(!0),x(!1),f(!1),setTimeout(()=>{j(!1)},3e3);else{try{let e=await (0,c.Z)(t.Passord);await (0,m.pl)((0,m.JU)(v.db,v.N_,t.AnsattNr),{AnsattNr:t.AnsattNr,Fornavn:t.Fornavn,Etternavn:t.Etternavn,Epost:t.Epost,Stilling:t.Stilling,Avdeling:t.Avdeling,AntallJobbTimer:t.AntallJobbTimer,Passord:e,Opprettet:(0,m.Bt)(),SistEndret:(0,m.Bt)(),TimeBank:Number(t.AntallJobbTimer)});let n=collection(v.db,v.N_,t.AnsattNr,v.e_);await (0,m.ET)(n,{})}catch(e){f(!0),x(!1),j(!1),setTimeout(()=>{f(!1)},3e3)}x(!0),j(!1),f(!1),setTimeout(()=>{x(!1)},3e3)}handleFormReset()},handleFormReset=()=>{l({AnsattNr:"",Fornavn:"",Etternavn:"",Epost:"",Stilling:"",Avdeling:"",AntallJobbTimer:"",Passord:"",GjentaPassord:""})},g=""!==t.AnsattNr&&""!==t.Fornavn&&""!==t.Etternavn&&""!==t.Epost&&""!==t.Stilling&&""!==t.Avdeling&&""!==t.Passord&&""!==t.GjentaPassord&&t.Passord===t.GjentaPassord&&t.Passord.length===o.h;return(0,s.jsx)(i.Z,{sx:{width:"100%",margin:"auto",display:"flex",flexDirection:"column",alignItems:"center"},children:(0,s.jsx)(i.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:(0,s.jsxs)(a.c,{children:[(0,s.jsx)(o.Z,{formData:t,onChange:l}),(0,s.jsx)(NyBrukerButton,{onSave:handleSave,isFormValid:g,onFormReset:handleFormReset,onReturn:()=>{n()}}),(0,s.jsx)(u.Ik,{vis:d}),(0,s.jsx)(u.hW,{vis:h}),(0,s.jsx)(u.Sj,{vis:k})]})})})}},41232:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return VelgBrukerSkjema}});var s=t(57437),r=t(2265),i=t(17222),a=t(25577),o=t(49050),l=t(98075),d=t(66288);function FinnBrukerButton(e){let{onAnsatt:n,onAdmin:t}=e,[i,a]=(0,r.useState)(!1);return(0,s.jsxs)("div",{children:[(0,s.jsxs)(l.Z,{direction:"row",spacing:2,justifyContent:"flex-end",children:[(0,s.jsx)(o.Z,{variant:"contained",onClick:()=>{n()},children:"Ansatt"}),(0,s.jsx)(o.Z,{variant:"outlined",onClick:()=>{t()},children:"Adminbruker"})]}),(0,s.jsx)(d.C,{vis:i})]})}var u=t(54194),c=t(3467);function VelgBrukerSkjema(){let[e,n]=r.useState(!1),[t,o]=r.useState(!1),[l,v]=r.useState(!1),handleFormReset=()=>{v(!1),o(!1)};return(0,s.jsx)(a.Z,{sx:{width:"100%",margin:"auto",display:"flex",flexDirection:"column",alignItems:"center"},children:t?(0,s.jsx)(u.default,{onGoBack:handleFormReset}):l?(0,s.jsx)(c.Z,{onGoBack:handleFormReset}):(0,s.jsxs)(i.c,{children:[(0,s.jsx)(FinnBrukerButton,{onAnsatt:()=>{console.log("Ansatt"),o(!0),v(!1)},onAdmin:()=>{console.log("Admin"),v(!0),o(!1)}}),(0,s.jsx)(d.N,{vis:e})]})})}}},function(e){e.O(0,[358,218,187,777,659,99,214,189,803,423,55,549,563,971,472,744],function(){return e(e.s=73308)}),_N_E=e.O()}]);