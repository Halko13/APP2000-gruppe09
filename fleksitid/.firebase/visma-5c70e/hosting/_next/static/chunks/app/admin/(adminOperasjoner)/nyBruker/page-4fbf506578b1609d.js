(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[534],{7457:function(e,t,n){Promise.resolve().then(n.bind(n,2143)),Promise.resolve().then(n.t.bind(n,423,23)),Promise.resolve().then(n.t.bind(n,3574,23))},894:function(e,t,n){"use strict";n.d(t,{db:function(){return i}});var r=n(994),a=n(4086);let s=(0,r.ZF)({apiKey:"AIzaSyDXAV7xZr-ztj97FSL3oOhaUqsIiqfR2fk",authDomain:"visma-5c70e.firebaseapp.com",projectId:"visma-5c70e",storageBucket:"visma-5c70e.appspot.com",messagingSenderId:"161477454641",appId:"1:161477454641:web:7abeb57872fb86ef719e10"}),i=(0,a.ad)(s)},5717:function(e,t,n){"use strict";n.d(t,{Z:function(){return AdminCheckBox}});var r=n(7437);n(2265);var a=n(7760),s=n(2582),i=n(182),l=n(4081);function AdminCheckBox(e){let{checked:t,onChange:n,label:o}=e;return(0,r.jsx)(l.Z,{component:"fieldset",children:(0,r.jsx)(s.Z,{"aria-label":"position",row:!0,children:(0,r.jsx)(i.Z,{value:"ErAdmin",control:(0,r.jsx)(a.Z,{checked:t,onChange:e=>{n(e.target.checked)},sx:{fontSize:"50px"}}),label:(0,r.jsx)("span",{style:{fontSize:"25px"},children:o}),labelPlacement:"start"})})})}},2143:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return NyBrukerSkjema}});var r=n(7437),a=n(2265),s=n(5577),i=n(7222),l=n(1116),o=n(9050),d=n(8075),u=n(9804);function SuccessAlert(e){let{vis:t}=e;return t&&(0,r.jsx)(u.Z,{severity:"success",children:"Ny bruker lagd suksessfullt"})}function ErrorAlert(e){let{vis:t}=e;return t&&(0,r.jsx)(u.Z,{severity:"error",children:"Ansatt nummer finnes fra f\xf8r"})}function ButtonErrorAlert(e){let{vis:t}=e;return t&&(0,r.jsx)(u.Z,{severity:"error",children:"Fyll inn alle feltene og passord m\xe5 matche"})}function NyBrukerButton(e){let{onSave:t,isFormValid:n,onFormReset:s}=e,[i,l]=a.useState(!1);return(0,r.jsxs)("div",{children:[(0,r.jsxs)(d.Z,{direction:"row",spacing:2,justifyContent:"flex-end",children:[(0,r.jsx)(o.Z,{variant:"contained",onClick:()=>{n?(t(),s(),l(!1)):(console.log("valider ikke "+n),l(!0),setTimeout(()=>{l(!1)},3e3))},children:"Send"}),(0,r.jsx)(o.Z,{variant:"outlined",onClick:()=>{s(),l(!1)},children:"Reset"})]}),(0,r.jsx)(ButtonErrorAlert,{vis:i})]})}var c=n(894),m=n(4086);function NyBrukerSkjema(){let[e,t]=a.useState({AnsattNr:"",Fornavn:"",Etternavn:"",Stilling:"",AntallJobbTimer:"",Passord:"",GjentaPassord:"",ErAdmin:!1}),[n,o]=a.useState(!1),[d,u]=a.useState(!1),handleSave=async()=>{console.log("Lagrer data til database:",e);let t=(0,m.JU)(c.db,"Brukere",e.AnsattNr),n=await (0,m.QT)(t);n.exists()?u(!0):(await (0,m.pl)((0,m.JU)(c.db,"Brukere",e.AnsattNr),{AnsattNr:e.AnsattNr,Fornavn:e.Fornavn,Etternavn:e.Etternavn,Stilling:e.Stilling,AntallJobbTimer:e.AntallJobbTimer,Passord:e.Passord,Innlogget:!1,ErAdmin:e.ErAdmin}),o(!0)),setTimeout(()=>{o(!1)},5e3),handleFormReset()},handleFormReset=()=>{t({AnsattNr:"",Fornavn:"",Etternavn:"",Stilling:"",AntallJobbTimer:"",Passord:"",GjentaPassord:"",ErAdmin:!1})},f=""!==e.AnsattNr&&""!==e.Fornavn&&""!==e.Etternavn&&""!==e.Stilling&&""!==e.Passord&&""!==e.GjentaPassord&&e.Passord===e.GjentaPassord&&e.Passord.length===l.h;return(0,r.jsx)(s.Z,{sx:{width:.5},alignItems:"center",style:{margin:"auto"},children:(0,r.jsx)(s.Z,{display:"grid",gridTemplateColumns:"repeat(1fr, 1fr)",gap:2,alignItems:"center",style:{margin:"auto"},children:(0,r.jsx)(s.Z,{gridColumn:"span 1",children:(0,r.jsxs)(i.c,{children:[(0,r.jsx)(l.Z,{formData:e,onChange:t}),(0,r.jsx)(NyBrukerButton,{onSave:handleSave,isFormValid:f,onFormReset:handleFormReset}),(0,r.jsx)(SuccessAlert,{vis:n}),(0,r.jsx)(ErrorAlert,{vis:d})]})})})})}},1116:function(e,t,n){"use strict";n.d(t,{Z:function(){return NyBrukerForm},h:function(){return m}});var r=n(7437),a=n(2265),s=n(5577),i=n(1975),l=n(9946),o=n(6895),d=n(5166),u=n(5729),c=n(5717);let m=6,f=[{id:"AnsattNr",label:"AnsattNr",required:!0,variant:"filled"},{id:"Fornavn",label:"Fornavn",required:!0,variant:"filled"},{id:"Etternavn",label:"Etternavn",required:!0,variant:"filled"},{id:"Stilling",label:"Stilling",required:!0,variant:"filled"},{id:"AntallJobbTimer",label:"Antall jobbtimer i uka",type:"number",variant:"filled"},{id:"Passord",label:"Passord",type:"password",autoComplete:"current-password",required:!0,variant:"filled"},{id:"GjentaPassord",label:"Gjenta Passord",type:"password",autoComplete:"current-password",required:!0,variant:"filled"}],v=[{id:"ErAdmin",label:"Adminbruker"}];function NyBrukerForm(e){let{formData:t,onChange:n}=e,m=(0,o.q)(n),g=(0,l.Q)(t);(0,d.P)(t);let h=(0,u.B)(n),[b,p]=a.useState(t.ErAdmin||!1);return a.useEffect(()=>{p(t.ErAdmin||!1)},[t.ErAdmin]),(0,r.jsx)(s.Z,{component:"form",sx:{"& .MuiTextField-root":{m:1,width:1},mx:2},noValidate:!0,autoComplete:"off",children:(0,r.jsxs)("div",{children:[f.map(e=>(0,r.jsx)(i.Z,{id:e.id,label:e.label,type:e.type||"text",autoComplete:e.autoComplete||"",required:e.required||!1,variant:e.variant||"filled",onChange:t=>{m(t),("Passord"===e.id||"GjentaPassord"===e.id)&&h(t)},value:t[e.id],error:("Passord"===e.id||"GjentaPassord"===e.id)&&g,helperText:("Passord"===e.id||"GjentaPassord"===e.id)&&g?"Passord m\xe5 ha lengde 6":""},e.id)),(0,r.jsx)(c.Z,{checked:b,onChange:e=>{p(e),n({...t,ErAdmin:e})},label:v[0].label})]})})}},5166:function(e,t,n){"use strict";n.d(t,{P:function(){return useFormDataEffect}});var r=n(2265);let useFormDataEffect=e=>{r.useEffect(()=>{document.getElementById("AnsattNr").value=e.AnsattNr,document.getElementById("Fornavn").value=e.Fornavn,document.getElementById("Etternavn").value=e.Etternavn,document.getElementById("Stilling").value=e.Stilling,document.getElementById("AntallJobbTimer").value=e.AntallJobbTimer,document.getElementById("Passord").value=e.Passord,document.getElementById("GjentaPassord").value=e.GjentaPassord;let t=document.getElementById("ErAdmin");t&&(t.checked=void 0!==e.ErAdmin&&e.ErAdmin)},[e])}},7222:function(e,t,n){"use strict";n.d(t,{c:function(){return s}});var r=n(5843),a=n(6055);let s=(0,r.ZP)(a.Z)(e=>{let{theme:t}=e;return{padding:t.spacing(1),textAlign:"center"}})},6895:function(e,t,n){"use strict";n.d(t,{q:function(){return useFormUpdate}});let useFormUpdate=e=>t=>{let{id:n,value:r}=t.target;e(e=>({...e,[n]:r}))}},9946:function(e,t,n){"use strict";n.d(t,{Q:function(){return useFormValidation}});var r=n(2265),a=n(1116);let useFormValidation=e=>{let[t,n]=r.useState(!1),isNumeric=e=>/^[0-9]+$/.test(e);return r.useEffect(()=>{let t=e.AnsattNr&&e.Fornavn&&e.Etternavn&&e.Stilling&&isNumeric(e.Passord)&&isNumeric(e.GjentaPassord)&&e.Passord===e.GjentaPassord&&e.Passord.length===a.h;n(!t)},[e]),t}},5729:function(e,t,n){"use strict";n.d(t,{B:function(){return usePassordEndring}});let usePassordEndring=e=>t=>{let{id:n,value:r}=t.target,a=/^[0-9]*$/.test(r);e(e=>({...e,[n]:a?r:""}))}}},function(e){e.O(0,[358,702,365,99,737,987,971,472,744],function(){return e(e.s=7457)}),_N_E=e.O()}]);